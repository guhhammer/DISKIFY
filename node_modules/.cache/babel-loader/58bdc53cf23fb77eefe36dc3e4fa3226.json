{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _Array$isArray = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\n\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = exports.EthereumEvents = void 0;\n\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\n\nvar _values = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/values\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _construct2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/construct\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _web = _interopRequireDefault(require(\"web3\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _ParseUser = _interopRequireDefault(require(\"./ParseUser\"));\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _MoralisErd = _interopRequireDefault(require(\"./MoralisErd\"));\n\nvar _MoralisDot = _interopRequireDefault(require(\"./MoralisDot\"));\n\nvar _MoralisWalletConnectProvider = _interopRequireDefault(require(\"./MoralisWalletConnectProvider\"));\n\nvar _MoralisInjectedProvider = _interopRequireDefault(require(\"./MoralisInjectedProvider\"));\n\nvar _TransferUtils = _interopRequireDefault(require(\"./TransferUtils\"));\n\nvar _Cloud = require(\"./Cloud\");\n\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\n\nvar _createSigningData = _interopRequireDefault(require(\"./createSigningData\"));\n\nvar _context22, _context23, _context24, _context25;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n\n  if (!it) {\n    if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context26;\n\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context26 = Object.prototype.toString.call(o)).call(_context26, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar EventEmitter = require('events');\n\nvar transferEvents = new EventEmitter();\nvar EthereumEvents = {\n  CONNECT: 'connect',\n  DISCONNECT: 'disconnect',\n  ACCOUNTS_CHANGED: 'accountsChanged',\n  CHAIN_CHANGED: 'chainChanged'\n};\nexports.EthereumEvents = EthereumEvents;\nvar WARNING = 'Non ethereum enabled browser';\nvar ERROR_WEB3_MISSING = 'Missing web3 instance, make sure to call Moralis.enable() or Moralis.authenticate()';\n\nfunction uniq(arr) {\n  return (0, _filter.default)(arr).call(arr, function (v, i) {\n    return (0, _indexOf.default)(arr).call(arr, v) === i;\n  });\n}\n\nvar MoralisWeb3 = /*#__PURE__*/function () {\n  function MoralisWeb3() {\n    (0, _classCallCheck2.default)(this, MoralisWeb3);\n    var MWeb3 = typeof _web.default === 'function' ? _web.default : window.Web3;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (0, _construct2.default)(MWeb3, args);\n  }\n\n  (0, _createClass2.default)(MoralisWeb3, null, [{\n    key: \"enable\",\n    value: function () {\n      var _enable = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(options) {\n        var Web3Provider, web3Provider, web3;\n        return _regenerator.default.wrap(function (_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                Web3Provider = MoralisWeb3.getWeb3Provider(options);\n                web3Provider = new Web3Provider();\n                _context.next = 4;\n                return web3Provider.activate(options);\n\n              case 4:\n                web3 = _context.sent;\n                this.activeWeb3Provider = web3Provider;\n                this.web3 = web3;\n                return _context.abrupt(\"return\", web3);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function () {\n        return _enable.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"isDotAuth\",\n    value: function value(options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'dot':\n        case 'polkadot':\n        case 'kusama':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isElrondAuth\",\n    value: function value(options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'erd':\n        case 'elrond':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getWeb3Provider\",\n    value: function value(options) {\n      switch (options === null || options === void 0 ? void 0 : options.provider) {\n        case 'walletconnect':\n        case 'walletConnect':\n        case 'wc':\n          return _MoralisWalletConnectProvider.default;\n\n        default:\n          return _MoralisInjectedProvider.default;\n      }\n    }\n  }, {\n    key: \"cleanup\",\n    value: function () {\n      var _cleanup = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.activeWeb3Provider) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _context2.next = 3;\n                return this.activeWeb3Provider.deactivate();\n\n              case 3:\n                // Prevent a bug when there is stale data active\n                _MoralisWalletConnectProvider.default.cleanupStaleData();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _cleanup.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"authenticate\",\n    value: function () {\n      var _authenticate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(options) {\n        var _context3, _user$get;\n\n        var isLoggedIn, web3, message, data, accounts, accountsLower, _accountsLower, ethAddress, signature, authData, user;\n\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _ParseUser.default.current();\n\n              case 2:\n                isLoggedIn = _context4.sent;\n\n                if (!isLoggedIn) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _context4.next = 6;\n                return _ParseUser.default.logOut();\n\n              case 6:\n                _context4.next = 8;\n                return MoralisWeb3.cleanup();\n\n              case 8:\n                if (!MoralisWeb3.isDotAuth(options)) {\n                  _context4.next = 10;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisDot.default.authenticate(options));\n\n              case 10:\n                if (!MoralisWeb3.isElrondAuth(options)) {\n                  _context4.next = 12;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisErd.default.authenticate(options));\n\n              case 12:\n                _context4.next = 14;\n                return MoralisWeb3.enable(options);\n\n              case 14:\n                web3 = _context4.sent;\n                message = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context4.next = 18;\n                return (0, _createSigningData.default)(message);\n\n              case 18:\n                data = _context4.sent;\n                _context4.next = 21;\n                return web3.eth.getAccounts();\n\n              case 21:\n                accounts = _context4.sent;\n                accountsLower = (0, _map.default)(accounts).call(accounts, function (v) {\n                  return v.toLowerCase();\n                });\n                _accountsLower = (0, _slicedToArray2.default)(accountsLower, 1), ethAddress = _accountsLower[0];\n\n                if (ethAddress) {\n                  _context4.next = 26;\n                  break;\n                }\n\n                throw new Error('Address not found');\n\n              case 26:\n                _context4.next = 28;\n                return web3.eth.personal.sign(data, ethAddress, '');\n\n              case 28:\n                signature = _context4.sent;\n\n                if (signature) {\n                  _context4.next = 31;\n                  break;\n                }\n\n                throw new Error('Data not signed');\n\n              case 31:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context4.next = 34;\n                return _ParseUser.default.logInWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 34:\n                user = _context4.sent;\n                _context4.next = 37;\n                return user.setACL(new _ParseACL.default(user));\n\n              case 37:\n                if (user) {\n                  _context4.next = 39;\n                  break;\n                }\n\n                throw new Error('Could not get user');\n\n              case 39:\n                user.set('accounts', uniq((0, _concat.default)(_context3 = []).call(_context3, accountsLower, (_user$get = user.get('accounts')) !== null && _user$get !== void 0 ? _user$get : [])));\n                user.set('ethAddress', ethAddress);\n                _context4.next = 43;\n                return user.save(null, options);\n\n              case 43:\n                return _context4.abrupt(\"return\", user);\n\n              case 44:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function () {\n        return _authenticate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"link\",\n    value: function () {\n      var _link = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(account, options) {\n        var _context5, _user$get2;\n\n        var web3, data, user, ethAddress, EthAddress, query, ethAddressRecord, signature, authData;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return MoralisWeb3.enable(options);\n\n              case 2:\n                web3 = _context6.sent;\n                data = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context6.next = 6;\n                return _ParseUser.default.current();\n\n              case 6:\n                user = _context6.sent;\n                ethAddress = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context6.next = 12;\n                return query.get(ethAddress).catch(function () {\n                  return null;\n                });\n\n              case 12:\n                ethAddressRecord = _context6.sent;\n\n                if (ethAddressRecord) {\n                  _context6.next = 20;\n                  break;\n                }\n\n                _context6.next = 16;\n                return web3.eth.personal.sign(data, account, '');\n\n              case 16:\n                signature = _context6.sent;\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context6.next = 20;\n                return user.linkWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 20:\n                user.set('accounts', uniq((0, _concat.default)(_context5 = [ethAddress]).call(_context5, (_user$get2 = user.get('accounts')) !== null && _user$get2 !== void 0 ? _user$get2 : [])));\n                user.set('ethAddress', ethAddress);\n                _context6.next = 24;\n                return user.save(null, options);\n\n              case 24:\n                return _context6.abrupt(\"return\", user);\n\n              case 25:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function () {\n        return _link.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"unlink\",\n    value: function () {\n      var _unlink = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(account) {\n        var _user$get3;\n\n        var accountsLower, EthAddress, query, ethAddressRecord, user, accounts, nextAccounts;\n        return _regenerator.default.wrap(function (_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                accountsLower = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context7.next = 5;\n                return query.get(accountsLower);\n\n              case 5:\n                ethAddressRecord = _context7.sent;\n                _context7.next = 8;\n                return ethAddressRecord.destroy();\n\n              case 8:\n                _context7.next = 10;\n                return _ParseUser.default.current();\n\n              case 10:\n                user = _context7.sent;\n                accounts = (_user$get3 = user.get('accounts')) !== null && _user$get3 !== void 0 ? _user$get3 : [];\n                nextAccounts = (0, _filter.default)(accounts).call(accounts, function (v) {\n                  return v !== accountsLower;\n                });\n                user.set('accounts', nextAccounts);\n                user.set('ethAddress', nextAccounts[0]);\n                _context7.next = 17;\n                return user._unlinkFrom('moralisEth');\n\n              case 17:\n                _context7.next = 19;\n                return user.save();\n\n              case 19:\n                return _context7.abrupt(\"return\", user);\n\n              case 20:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function () {\n        return _unlink.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"initPlugins\",\n    value: function () {\n      var _initPlugins = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(installedPlugins) {\n        var _this = this;\n\n        var specs, allPlugins;\n        return _regenerator.default.wrap(function (_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.t0 = installedPlugins;\n\n                if (_context11.t0) {\n                  _context11.next = 5;\n                  break;\n                }\n\n                _context11.next = 4;\n                return (0, _Cloud.run)('getPluginSpecs');\n\n              case 4:\n                _context11.t0 = _context11.sent;\n\n              case 5:\n                specs = _context11.t0;\n                if (!this.Plugins) this.Plugins = {};\n\n                if (specs) {\n                  _context11.next = 9;\n                  break;\n                }\n\n                return _context11.abrupt(\"return\");\n\n              case 9:\n                allPlugins = this.Plugins;\n                (0, _forEach.default)(specs).call(specs, function (plugin) {\n                  var _context8;\n\n                  allPlugins[plugin.name] = {};\n                  (0, _forEach.default)(_context8 = plugin.functions).call(_context8, function (f) {\n                    allPlugins[plugin.name][f] = /*#__PURE__*/function () {\n                      var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(params, options) {\n                        var _context9;\n\n                        var response, error, triggerReturn;\n                        return _regenerator.default.wrap(function (_context10) {\n                          while (1) {\n                            switch (_context10.prev = _context10.next) {\n                              case 0:\n                                if (!options) options = {};\n                                _context10.next = 3;\n                                return (0, _Cloud.run)((0, _concat.default)(_context9 = \"\".concat(plugin.name, \"_\")).call(_context9, f), params);\n\n                              case 3:\n                                response = _context10.sent;\n\n                                if (response.data.success) {\n                                  _context10.next = 7;\n                                  break;\n                                }\n\n                                error = (0, _stringify.default)(response.data.data, null, 2);\n                                throw new Error(\"Something went wrong\\n\".concat(error));\n\n                              case 7:\n                                if (!(options.disableTriggers !== true)) {\n                                  _context10.next = 13;\n                                  break;\n                                }\n\n                                _context10.next = 10;\n                                return _this.handleTriggers(response.data.result.triggers);\n\n                              case 10:\n                                triggerReturn = _context10.sent;\n\n                                if (!triggerReturn) {\n                                  _context10.next = 13;\n                                  break;\n                                }\n\n                                return _context10.abrupt(\"return\", triggerReturn);\n\n                              case 13:\n                                return _context10.abrupt(\"return\", response.data.result);\n\n                              case 14:\n                              case \"end\":\n                                return _context10.stop();\n                            }\n                          }\n                        }, _callee6);\n                      }));\n\n                      return function () {\n                        return _ref.apply(this, arguments);\n                      };\n                    }();\n                  });\n                });\n                this.Plugins = allPlugins;\n\n              case 12:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      return function () {\n        return _initPlugins.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"handleTriggers\",\n    value: function () {\n      var _handleTriggers = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8(_triggersArray) {\n        var _triggersArray$i, _triggersArray$i2, _triggersArray$i2$opt, _triggersArray$i3, _triggersArray$i3$opt, _triggersArray$i4, _triggersArray$i5, _triggersArray$i5$opt, _triggersArray$i6, _triggersArray$i7, _triggersArray$i8, _triggersArray$i9, _triggersArray$i10, _triggersArray$i11, _triggersArray$i12, _triggersArray$i13;\n\n        var i, response;\n        return _regenerator.default.wrap(function (_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (_triggersArray) {\n                  _context12.next = 2;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\");\n\n              case 2:\n                i = 0;\n\n              case 3:\n                if (!(i < _triggersArray.length)) {\n                  _context12.next = 27;\n                  break;\n                }\n\n                response = void 0;\n                _context12.t0 = (_triggersArray$i = _triggersArray[i]) === null || _triggersArray$i === void 0 ? void 0 : _triggersArray$i.name;\n                _context12.next = _context12.t0 === 'openUrl' ? 8 : _context12.t0 === 'web3Transaction' ? 13 : 23;\n                break;\n\n              case 8:\n                if (((_triggersArray$i2 = _triggersArray[i]) === null || _triggersArray$i2 === void 0 ? void 0 : (_triggersArray$i2$opt = _triggersArray$i2.options) === null || _triggersArray$i2$opt === void 0 ? void 0 : _triggersArray$i2$opt.newTab) === true || !((_triggersArray$i3 = _triggersArray[i]) !== null && _triggersArray$i3 !== void 0 && (_triggersArray$i3$opt = _triggersArray$i3.options) !== null && _triggersArray$i3$opt !== void 0 && _triggersArray$i3$opt.hasOwnProperty('newTab'))) response = window.open((_triggersArray$i4 = _triggersArray[i]) === null || _triggersArray$i4 === void 0 ? void 0 : _triggersArray$i4.data);\n                if (((_triggersArray$i5 = _triggersArray[i]) === null || _triggersArray$i5 === void 0 ? void 0 : (_triggersArray$i5$opt = _triggersArray$i5.options) === null || _triggersArray$i5$opt === void 0 ? void 0 : _triggersArray$i5$opt.newTab) === false) response = window.open((_triggersArray$i6 = _triggersArray[i]) === null || _triggersArray$i6 === void 0 ? void 0 : _triggersArray$i6.data, '_self');\n\n                if (!(((_triggersArray$i7 = _triggersArray[i]) === null || _triggersArray$i7 === void 0 ? void 0 : _triggersArray$i7.shouldReturnResponse) === true)) {\n                  _context12.next = 12;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", response);\n\n              case 12:\n                return _context12.abrupt(\"break\", 24);\n\n              case 13:\n                if (this.ensureWeb3IsInstalled()) {\n                  _context12.next = 15;\n                  break;\n                }\n\n                throw new Error(ERROR_WEB3_MISSING);\n\n              case 15:\n                if (!(((_triggersArray$i8 = _triggersArray[i]) === null || _triggersArray$i8 === void 0 ? void 0 : _triggersArray$i8.shouldAwait) === true)) {\n                  _context12.next = 19;\n                  break;\n                }\n\n                _context12.next = 18;\n                return this.web3.eth.sendTransaction((_triggersArray$i9 = _triggersArray[i]) === null || _triggersArray$i9 === void 0 ? void 0 : _triggersArray$i9.data);\n\n              case 18:\n                response = _context12.sent;\n\n              case 19:\n                if (((_triggersArray$i10 = _triggersArray[i]) === null || _triggersArray$i10 === void 0 ? void 0 : _triggersArray$i10.shouldAwait) === false) response = this.web3.eth.sendTransaction((_triggersArray$i11 = _triggersArray[i]) === null || _triggersArray$i11 === void 0 ? void 0 : _triggersArray$i11.data);\n\n                if (!(((_triggersArray$i12 = _triggersArray[i]) === null || _triggersArray$i12 === void 0 ? void 0 : _triggersArray$i12.shouldReturnResponse) === true)) {\n                  _context12.next = 22;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", response);\n\n              case 22:\n                return _context12.abrupt(\"break\", 24);\n\n              case 23:\n                throw new Error(\"Unknown trigger: \\\"\".concat((_triggersArray$i13 = _triggersArray[i]) === null || _triggersArray$i13 === void 0 ? void 0 : _triggersArray$i13.name, \"\\\"\"));\n\n              case 24:\n                i++;\n                _context12.next = 3;\n                break;\n\n              case 27:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      return function () {\n        return _handleTriggers.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getAllERC20\",\n    value: function () {\n      var _getAllERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9() {\n        var _ref2,\n            chain,\n            address,\n            result,\n            _args9 = arguments;\n\n        return _regenerator.default.wrap(function (_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _ref2 = _args9.length > 0 && _args9[0] !== undefined ? _args9[0] : {}, chain = _ref2.chain, address = _ref2.address;\n                _context13.next = 3;\n                return (0, _Cloud.run)('getAllERC20', {\n                  chain: chain,\n                  address: address\n                });\n\n              case 3:\n                result = _context13.sent;\n                return _context13.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      return function () {\n        return _getAllERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getERC20\",\n    value: function () {\n      var _getERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10() {\n        var _ref3,\n            chain,\n            address,\n            symbol,\n            tokenAddress,\n            result,\n            _args10 = arguments;\n\n        return _regenerator.default.wrap(function (_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                _ref3 = _args10.length > 0 && _args10[0] !== undefined ? _args10[0] : {}, chain = _ref3.chain, address = _ref3.address, symbol = _ref3.symbol, tokenAddress = _ref3.tokenAddress;\n                result = (0, _Cloud.run)('getERC20', {\n                  chain: chain,\n                  address: address,\n                  symbol: symbol,\n                  tokenAddress: tokenAddress\n                });\n                return _context14.abrupt(\"return\", result);\n\n              case 3:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      return function () {\n        return _getERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getNFTs\",\n    value: function value() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$chain = _ref4.chain,\n          chain = _ref4$chain === void 0 ? 'Eth' : _ref4$chain,\n          _ref4$address = _ref4.address,\n          address = _ref4$address === void 0 ? '' : _ref4$address;\n\n      return (0, _Cloud.run)('getNFTs_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getNFTsCount\",\n    value: function value() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$chain = _ref5.chain,\n          chain = _ref5$chain === void 0 ? 'Eth' : _ref5$chain,\n          _ref5$address = _ref5.address,\n          address = _ref5$address === void 0 ? '' : _ref5$address;\n\n      return (0, _Cloud.run)('getNFTsCount_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getTransactions\",\n    value: function value() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$chain = _ref6.chain,\n          chain = _ref6$chain === void 0 ? 'Eth' : _ref6$chain,\n          _ref6$address = _ref6.address,\n          address = _ref6$address === void 0 ? '' : _ref6$address,\n          _ref6$order = _ref6.order,\n          order = _ref6$order === void 0 ? 'desc' : _ref6$order;\n\n      return (0, _Cloud.run)('getTransactions', {\n        chain: chain,\n        address: address,\n        order: order\n      });\n    }\n  }, {\n    key: \"getTransactionsCount\",\n    value: function value() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$chain = _ref7.chain,\n          chain = _ref7$chain === void 0 ? 'Eth' : _ref7$chain,\n          _ref7$address = _ref7.address,\n          address = _ref7$address === void 0 ? '' : _ref7$address;\n\n      return (0, _Cloud.run)('getTransactionsCount', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"transfer\",\n    value: function () {\n      var _transfer = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee11() {\n        var _ref8,\n            _ref8$type,\n            type,\n            _ref8$receiver,\n            receiver,\n            _ref8$contractAddress,\n            contractAddress,\n            contract_address,\n            _ref8$amount,\n            amount,\n            _ref8$tokenId,\n            tokenId,\n            token_id,\n            _ref8$system,\n            system,\n            _ref8$awaitReceipt,\n            awaitReceipt,\n            options,\n            web3,\n            sender,\n            transferOperation,\n            customToken,\n            _args11 = arguments;\n\n        return _regenerator.default.wrap(function (_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _ref8 = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : {}, _ref8$type = _ref8.type, type = _ref8$type === void 0 ? 'native' : _ref8$type, _ref8$receiver = _ref8.receiver, receiver = _ref8$receiver === void 0 ? '' : _ref8$receiver, _ref8$contractAddress = _ref8.contractAddress, contractAddress = _ref8$contractAddress === void 0 ? '' : _ref8$contractAddress, contract_address = _ref8.contract_address, _ref8$amount = _ref8.amount, amount = _ref8$amount === void 0 ? '' : _ref8$amount, _ref8$tokenId = _ref8.tokenId, tokenId = _ref8$tokenId === void 0 ? '' : _ref8$tokenId, token_id = _ref8.token_id, _ref8$system = _ref8.system, system = _ref8$system === void 0 ? 'evm' : _ref8$system, _ref8$awaitReceipt = _ref8.awaitReceipt, awaitReceipt = _ref8$awaitReceipt === void 0 ? true : _ref8$awaitReceipt; // Allow snake-case for backwards compatibility\n                // eslint-disable-next-line camelcase\n\n                contractAddress = contractAddress || contract_address; // eslint-disable-next-line camelcase\n\n                tokenId = tokenId || token_id;\n                options = {\n                  receiver: receiver,\n                  contractAddress: contractAddress,\n                  amount: amount,\n                  tokenId: tokenId,\n                  system: system,\n                  awaitReceipt: awaitReceipt\n                };\n\n                _TransferUtils.default.isSupportedType(type);\n\n                _TransferUtils.default.validateInput(type, options);\n\n                if (this.ensureWeb3IsInstalled()) {\n                  _context15.next = 8;\n                  break;\n                }\n\n                throw new Error(ERROR_WEB3_MISSING);\n\n              case 8:\n                web3 = this.web3;\n                _context15.next = 11;\n                return web3.eth.getAccounts();\n\n              case 11:\n                _context15.next = 13;\n                return _context15.sent[0];\n\n              case 13:\n                sender = _context15.sent;\n\n                if (sender) {\n                  _context15.next = 16;\n                  break;\n                }\n\n                throw new Error('Sender address not found');\n\n              case 16:\n                if (type !== 'native') customToken = new web3.eth.Contract(_TransferUtils.default.abi[type], contractAddress);\n                _context15.t0 = type;\n                _context15.next = _context15.t0 === 'native' ? 20 : _context15.t0 === 'erc20' ? 22 : _context15.t0 === 'erc721' ? 24 : _context15.t0 === 'erc1155' ? 26 : 28;\n                break;\n\n              case 20:\n                transferOperation = web3.eth.sendTransaction({\n                  from: sender,\n                  to: receiver,\n                  value: amount\n                });\n                return _context15.abrupt(\"break\", 29);\n\n              case 22:\n                transferOperation = customToken.methods.transfer(receiver, amount).send({\n                  from: sender\n                });\n                return _context15.abrupt(\"break\", 29);\n\n              case 24:\n                transferOperation = customToken.methods.safeTransferFrom(sender, receiver, tokenId).send({\n                  from: sender\n                });\n                return _context15.abrupt(\"break\", 29);\n\n              case 26:\n                transferOperation = customToken.methods.safeTransferFrom(sender, receiver, tokenId, amount, '0x').send({\n                  from: sender\n                });\n                return _context15.abrupt(\"break\", 29);\n\n              case 28:\n                throw new Error(\"Unknown transfer type: \\\"\".concat(type, \"\\\"\"));\n\n              case 29:\n                if (!awaitReceipt) {\n                  _context15.next = 31;\n                  break;\n                }\n\n                return _context15.abrupt(\"return\", transferOperation);\n\n              case 31:\n                transferOperation.on('transactionHash', function (hash) {\n                  transferEvents.emit('transactionHash', hash);\n                }).on('receipt', function (receipt) {\n                  transferEvents.emit('receipt', receipt);\n                }).on('confirmation', function (confirmationNumber, receipt) {\n                  transferEvents.emit('confirmation', (confirmationNumber, receipt));\n                }).on('error', function (error) {\n                  transferEvents.emit('error', error);\n                  throw error;\n                });\n                return _context15.abrupt(\"return\", transferEvents);\n\n              case 33:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      return function () {\n        return _transfer.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"executeFunction\",\n    value: function () {\n      var _executeFunction = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee12() {\n        var _context16;\n\n        var _ref9,\n            contractAddress,\n            abi,\n            functionName,\n            msgValue,\n            _ref9$params,\n            params,\n            web3,\n            contractOptions,\n            functionData,\n            stateMutability,\n            isReadFunction,\n            currentAddress,\n            errors,\n            _iterator,\n            _step,\n            input,\n            value,\n            parsedInputs,\n            contract,\n            customFunction,\n            response,\n            _args12 = arguments;\n\n        return _regenerator.default.wrap(function (_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                _ref9 = _args12.length > 0 && _args12[0] !== undefined ? _args12[0] : {}, contractAddress = _ref9.contractAddress, abi = _ref9.abi, functionName = _ref9.functionName, msgValue = _ref9.msgValue, _ref9$params = _ref9.params, params = _ref9$params === void 0 ? {} : _ref9$params;\n\n                if (this.ensureWeb3IsInstalled()) {\n                  _context17.next = 3;\n                  break;\n                }\n\n                throw new Error(ERROR_WEB3_MISSING);\n\n              case 3:\n                web3 = this.web3;\n                contractOptions = {};\n                functionData = (0, _find.default)(abi).call(abi, function (x) {\n                  return x.name === functionName;\n                });\n\n                if (functionData) {\n                  _context17.next = 8;\n                  break;\n                }\n\n                throw new Error('Function does not exist in abi');\n\n              case 8:\n                stateMutability = functionData === null || functionData === void 0 ? void 0 : functionData.stateMutability;\n                isReadFunction = stateMutability === 'view' || stateMutability === 'pure';\n\n                if (isReadFunction) {\n                  _context17.next = 20;\n                  break;\n                }\n\n                if (params.from) {\n                  _context17.next = 20;\n                  break;\n                }\n\n                _context17.next = 14;\n                return web3.eth.getAccounts();\n\n              case 14:\n                _context17.next = 16;\n                return _context17.sent[0];\n\n              case 16:\n                currentAddress = _context17.sent;\n\n                if (currentAddress) {\n                  _context17.next = 19;\n                  break;\n                }\n\n                throw new Error('From address is required');\n\n              case 19:\n                contractOptions.from = currentAddress;\n\n              case 20:\n                errors = [];\n                _iterator = _createForOfIteratorHelper(functionData.inputs);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    input = _step.value;\n                    value = params[input.name];\n\n                    if (!(typeof value !== 'undefined' && value)) {\n                      errors.push(\"\".concat(input.name, \" is required\"));\n                    }\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                if (!(errors.length > 0)) {\n                  _context17.next = 25;\n                  break;\n                }\n\n                throw errors;\n\n              case 25:\n                parsedInputs = (0, _map.default)(_context16 = functionData.inputs).call(_context16, function (x) {\n                  return params[x.name];\n                });\n                contract = new web3.eth.Contract(abi, contractAddress, contractOptions);\n                customFunction = contract.methods[functionName];\n\n                if (!isReadFunction) {\n                  _context17.next = 34;\n                  break;\n                }\n\n                _context17.next = 31;\n                return customFunction.apply(void 0, (0, _toConsumableArray2.default)((0, _values.default)(parsedInputs))).call();\n\n              case 31:\n                _context17.t0 = _context17.sent;\n                _context17.next = 37;\n                break;\n\n              case 34:\n                _context17.next = 36;\n                return customFunction.apply(void 0, (0, _toConsumableArray2.default)((0, _values.default)(parsedInputs))).send(msgValue ? {\n                  value: msgValue\n                } : null);\n\n              case 36:\n                _context17.t0 = _context17.sent;\n\n              case 37:\n                response = _context17.t0;\n                return _context17.abrupt(\"return\", response);\n\n              case 39:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      return function () {\n        return _executeFunction.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getSigningData\",\n    value: function value() {\n      return \"Moralis Authentication\"; // const data = `Moralis Authentication`;\n      // return data;\n    }\n  }, {\n    key: \"on\",\n    value: function value(eventName, cb) {\n      var _window = window,\n          ethereum = _window.ethereum;\n\n      if (!ethereum || !ethereum.on) {\n        // eslint-disable-next-line no-console\n        console.warn(WARNING);\n        return function () {\n          // eslint-disable-next-line no-console\n          console.warn(WARNING);\n        };\n      }\n\n      ethereum.on(eventName, cb);\n      return function () {\n        // eslint-disable-next-line no-console\n        console.warn('UNSUB NOT SUPPORTED');\n      };\n    }\n  }, {\n    key: \"getChainId\",\n    value: function () {\n      var _getChainId = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee13() {\n        return _regenerator.default.wrap(function (_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                if (!this.ensureWeb3IsInstalled()) {\n                  _context18.next = 4;\n                  break;\n                }\n\n                _context18.next = 3;\n                return this.web3.eth.net.getId();\n\n              case 3:\n                return _context18.abrupt(\"return\", _context18.sent);\n\n              case 4:\n                throw new Error(ERROR_WEB3_MISSING);\n\n              case 5:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      return function () {\n        return _getChainId.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"ensureWeb3IsInstalled\",\n    value: function value() {\n      return this.web3 ? true : false;\n    }\n  }, {\n    key: \"isMetaMaskInstalled\",\n    value: function () {\n      var _isMetaMaskInstalled = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee14() {\n        return _regenerator.default.wrap(function (_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                _context19.next = 2;\n                return (0, _detectProvider.default)();\n\n              case 2:\n                if (!_context19.sent) {\n                  _context19.next = 6;\n                  break;\n                }\n\n                _context19.t0 = true;\n                _context19.next = 7;\n                break;\n\n              case 6:\n                _context19.t0 = false;\n\n              case 7:\n                return _context19.abrupt(\"return\", _context19.t0);\n\n              case 8:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee14);\n      }));\n\n      return function () {\n        return _isMetaMaskInstalled.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"switchNetwork\",\n    value: function () {\n      var _switchNetwork = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee15(chainId) {\n        var currentNetwork;\n        return _regenerator.default.wrap(function (_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                chainId = verifyChainId(chainId); // Check if the user wallet is already on `chainId`\n\n                _context20.t0 = fromDecimalToHex;\n                _context20.next = 4;\n                return this.getChainId();\n\n              case 4:\n                _context20.t1 = _context20.sent;\n                currentNetwork = (0, _context20.t0)(_context20.t1);\n\n                if (!(currentNetwork === chainId)) {\n                  _context20.next = 8;\n                  break;\n                }\n\n                return _context20.abrupt(\"return\");\n\n              case 8:\n                _context20.next = 10;\n                return window.ethereum.request({\n                  method: 'wallet_switchEthereumChain',\n                  params: [{\n                    chainId: chainId\n                  }]\n                });\n\n              case 10:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      return function () {\n        return _switchNetwork.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"addNetwork\",\n    value: function () {\n      var _addNetwork = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee16(chainId, chainName, currencyName, currencySymbol, rpcUrl, blockExplorerUrl) {\n        return _regenerator.default.wrap(function (_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                chainId = verifyChainId(chainId);\n                _context21.next = 3;\n                return window.ethereum.request({\n                  method: 'wallet_addEthereumChain',\n                  params: [{\n                    chainId: chainId,\n                    chainName: chainName,\n                    nativeCurrency: {\n                      name: currencyName,\n                      symbol: currencySymbol,\n                      decimals: 18\n                    },\n                    rpcUrls: [rpcUrl],\n                    blockExplorerUrls: [blockExplorerUrl]\n                  }]\n                });\n\n              case 3:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee16);\n      }));\n\n      return function () {\n        return _addNetwork.apply(this, arguments);\n      };\n    }()\n  }]);\n  return MoralisWeb3;\n}();\n\nfunction fromDecimalToHex(number) {\n  if (typeof number !== 'number') throw 'The input provided should be a number';\n  return \"0x\".concat(number.toString(16));\n}\n\nfunction verifyChainId(chainId) {\n  // Check if chainId is a number, in that case convert to hex\n  if (typeof chainId === 'number') chainId = fromDecimalToHex(chainId);\n  return chainId;\n}\n\nMoralisWeb3.onConnect = (0, _bind.default)(_context22 = MoralisWeb3.on).call(_context22, MoralisWeb3, EthereumEvents.CONNECT);\nMoralisWeb3.onDisconnect = (0, _bind.default)(_context23 = MoralisWeb3.on).call(_context23, MoralisWeb3, EthereumEvents.DISCONNECT);\nMoralisWeb3.onChainChanged = (0, _bind.default)(_context24 = MoralisWeb3.on).call(_context24, MoralisWeb3, EthereumEvents.CHAIN_CHANGED);\nMoralisWeb3.onAccountsChanged = (0, _bind.default)(_context25 = MoralisWeb3.on).call(_context25, MoralisWeb3, EthereumEvents.ACCOUNTS_CHANGED);\nvar _default = MoralisWeb3;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Gustavo/Desktop/proj/meme/node_modules/moralis/lib/browser/MoralisWeb3.js"],"names":["_interopRequireDefault","require","_Object$defineProperty","_Array$isArray","_getIteratorMethod","_Symbol","_Array$from","_sliceInstanceProperty","exports","value","default","EthereumEvents","_bind","_values","_toConsumableArray2","_find","_stringify","_forEach","_concat","_slicedToArray2","_map","_regenerator","_asyncToGenerator2","_construct2","_classCallCheck2","_createClass2","_indexOf","_filter","_web","_ParseObject","_ParseQuery","_ParseUser","_ParseACL","_MoralisErd","_MoralisDot","_MoralisWalletConnectProvider","_MoralisInjectedProvider","_TransferUtils","_Cloud","_detectProvider","_createSigningData","_context22","_context23","_context24","_context25","_createForOfIteratorHelper","o","allowArrayLike","it","_unsupportedIterableToArray","length","i","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","return","minLen","_context26","_arrayLikeToArray","Object","prototype","toString","constructor","name","test","arr","len","arr2","Array","EventEmitter","transferEvents","CONNECT","DISCONNECT","ACCOUNTS_CHANGED","CHAIN_CHANGED","WARNING","ERROR_WEB3_MISSING","uniq","v","MoralisWeb3","MWeb3","window","Web3","_len","arguments","args","_key","key","_enable","mark","_callee","options","Web3Provider","web3Provider","web3","wrap","_context","prev","getWeb3Provider","activate","sent","activeWeb3Provider","abrupt","stop","apply","type","provider","_cleanup","_callee2","_context2","deactivate","cleanupStaleData","_authenticate","_callee3","_context3","_user$get","isLoggedIn","message","data","accounts","accountsLower","_accountsLower","ethAddress","signature","authData","user","_context4","current","logOut","cleanup","isDotAuth","authenticate","isElrondAuth","enable","signingMessage","getSigningData","eth","getAccounts","toLowerCase","Error","personal","sign","id","logInWith","setACL","set","get","save","_link","_callee4","account","_context5","_user$get2","EthAddress","query","ethAddressRecord","_context6","extend","catch","linkWith","_unlink","_callee5","_user$get3","nextAccounts","_context7","destroy","_unlinkFrom","_initPlugins","_callee7","installedPlugins","_this","specs","allPlugins","_context11","t0","run","Plugins","plugin","_context8","functions","_ref","_callee6","params","_context9","response","error","triggerReturn","_context10","concat","success","disableTriggers","handleTriggers","result","triggers","_handleTriggers","_callee8","_triggersArray","_triggersArray$i","_triggersArray$i2","_triggersArray$i2$opt","_triggersArray$i3","_triggersArray$i3$opt","_triggersArray$i4","_triggersArray$i5","_triggersArray$i5$opt","_triggersArray$i6","_triggersArray$i7","_triggersArray$i8","_triggersArray$i9","_triggersArray$i10","_triggersArray$i11","_triggersArray$i12","_triggersArray$i13","_context12","newTab","hasOwnProperty","open","shouldReturnResponse","ensureWeb3IsInstalled","shouldAwait","sendTransaction","_getAllERC","_callee9","_ref2","chain","address","_args9","_context13","undefined","_getERC","_callee10","_ref3","symbol","tokenAddress","_args10","_context14","_ref4","_ref4$chain","_ref4$address","_ref5","_ref5$chain","_ref5$address","_ref6","_ref6$chain","_ref6$address","_ref6$order","order","_ref7","_ref7$chain","_ref7$address","_transfer","_callee11","_ref8","_ref8$type","_ref8$receiver","receiver","_ref8$contractAddress","contractAddress","contract_address","_ref8$amount","amount","_ref8$tokenId","tokenId","token_id","_ref8$system","system","_ref8$awaitReceipt","awaitReceipt","sender","transferOperation","customToken","_args11","_context15","isSupportedType","validateInput","Contract","abi","from","to","methods","transfer","send","safeTransferFrom","on","hash","emit","receipt","confirmationNumber","_executeFunction","_callee12","_context16","_ref9","functionName","msgValue","_ref9$params","contractOptions","functionData","stateMutability","isReadFunction","currentAddress","errors","_iterator","_step","input","parsedInputs","contract","customFunction","_args12","_context17","x","inputs","push","eventName","cb","_window","ethereum","console","warn","_getChainId","_callee13","_context18","net","getId","_isMetaMaskInstalled","_callee14","_context19","_switchNetwork","_callee15","chainId","currentNetwork","_context20","verifyChainId","fromDecimalToHex","getChainId","t1","request","method","_addNetwork","_callee16","chainName","currencyName","currencySymbol","rpcUrl","blockExplorerUrl","_context21","nativeCurrency","decimals","rpcUrls","blockExplorerUrls","number","onConnect","onDisconnect","onChainChanged","onAccountsChanged","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _Array$isArray = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\n\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = exports.EthereumEvents = void 0;\n\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\n\nvar _values = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/values\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _construct2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/construct\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _web = _interopRequireDefault(require(\"web3\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _ParseUser = _interopRequireDefault(require(\"./ParseUser\"));\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _MoralisErd = _interopRequireDefault(require(\"./MoralisErd\"));\n\nvar _MoralisDot = _interopRequireDefault(require(\"./MoralisDot\"));\n\nvar _MoralisWalletConnectProvider = _interopRequireDefault(require(\"./MoralisWalletConnectProvider\"));\n\nvar _MoralisInjectedProvider = _interopRequireDefault(require(\"./MoralisInjectedProvider\"));\n\nvar _TransferUtils = _interopRequireDefault(require(\"./TransferUtils\"));\n\nvar _Cloud = require(\"./Cloud\");\n\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\n\nvar _createSigningData = _interopRequireDefault(require(\"./createSigningData\"));\n\nvar _context22, _context23, _context24, _context25;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n\n  if (!it) {\n    if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context26;\n\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context26 = Object.prototype.toString.call(o)).call(_context26, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar EventEmitter = require('events');\n\nvar transferEvents = new EventEmitter();\nvar EthereumEvents = {\n  CONNECT: 'connect',\n  DISCONNECT: 'disconnect',\n  ACCOUNTS_CHANGED: 'accountsChanged',\n  CHAIN_CHANGED: 'chainChanged'\n};\nexports.EthereumEvents = EthereumEvents;\nvar WARNING = 'Non ethereum enabled browser';\nvar ERROR_WEB3_MISSING = 'Missing web3 instance, make sure to call Moralis.enable() or Moralis.authenticate()';\n\nfunction uniq(arr) {\n  return (0, _filter.default)(arr).call(arr, function (v, i) {\n    return (0, _indexOf.default)(arr).call(arr, v) === i;\n  });\n}\n\nvar MoralisWeb3 = /*#__PURE__*/function () {\n  function MoralisWeb3() {\n    (0, _classCallCheck2.default)(this, MoralisWeb3);\n    var MWeb3 = typeof _web.default === 'function' ? _web.default : window.Web3;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (0, _construct2.default)(MWeb3, args);\n  }\n\n  (0, _createClass2.default)(MoralisWeb3, null, [{\n    key: \"enable\",\n    value: function () {\n      var _enable = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(options) {\n        var Web3Provider, web3Provider, web3;\n        return _regenerator.default.wrap(function (_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                Web3Provider = MoralisWeb3.getWeb3Provider(options);\n                web3Provider = new Web3Provider();\n                _context.next = 4;\n                return web3Provider.activate(options);\n\n              case 4:\n                web3 = _context.sent;\n                this.activeWeb3Provider = web3Provider;\n                this.web3 = web3;\n                return _context.abrupt(\"return\", web3);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function () {\n        return _enable.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"isDotAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'dot':\n        case 'polkadot':\n        case 'kusama':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isElrondAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'erd':\n        case 'elrond':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getWeb3Provider\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.provider) {\n        case 'walletconnect':\n        case 'walletConnect':\n        case 'wc':\n          return _MoralisWalletConnectProvider.default;\n\n        default:\n          return _MoralisInjectedProvider.default;\n      }\n    }\n  }, {\n    key: \"cleanup\",\n    value: function () {\n      var _cleanup = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.activeWeb3Provider) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _context2.next = 3;\n                return this.activeWeb3Provider.deactivate();\n\n              case 3:\n                // Prevent a bug when there is stale data active\n                _MoralisWalletConnectProvider.default.cleanupStaleData();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _cleanup.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"authenticate\",\n    value: function () {\n      var _authenticate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(options) {\n        var _context3, _user$get;\n\n        var isLoggedIn, web3, message, data, accounts, accountsLower, _accountsLower, ethAddress, signature, authData, user;\n\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _ParseUser.default.current();\n\n              case 2:\n                isLoggedIn = _context4.sent;\n\n                if (!isLoggedIn) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _context4.next = 6;\n                return _ParseUser.default.logOut();\n\n              case 6:\n                _context4.next = 8;\n                return MoralisWeb3.cleanup();\n\n              case 8:\n                if (!MoralisWeb3.isDotAuth(options)) {\n                  _context4.next = 10;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisDot.default.authenticate(options));\n\n              case 10:\n                if (!MoralisWeb3.isElrondAuth(options)) {\n                  _context4.next = 12;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisErd.default.authenticate(options));\n\n              case 12:\n                _context4.next = 14;\n                return MoralisWeb3.enable(options);\n\n              case 14:\n                web3 = _context4.sent;\n                message = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context4.next = 18;\n                return (0, _createSigningData.default)(message);\n\n              case 18:\n                data = _context4.sent;\n                _context4.next = 21;\n                return web3.eth.getAccounts();\n\n              case 21:\n                accounts = _context4.sent;\n                accountsLower = (0, _map.default)(accounts).call(accounts, function (v) {\n                  return v.toLowerCase();\n                });\n                _accountsLower = (0, _slicedToArray2.default)(accountsLower, 1), ethAddress = _accountsLower[0];\n\n                if (ethAddress) {\n                  _context4.next = 26;\n                  break;\n                }\n\n                throw new Error('Address not found');\n\n              case 26:\n                _context4.next = 28;\n                return web3.eth.personal.sign(data, ethAddress, '');\n\n              case 28:\n                signature = _context4.sent;\n\n                if (signature) {\n                  _context4.next = 31;\n                  break;\n                }\n\n                throw new Error('Data not signed');\n\n              case 31:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context4.next = 34;\n                return _ParseUser.default.logInWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 34:\n                user = _context4.sent;\n                _context4.next = 37;\n                return user.setACL(new _ParseACL.default(user));\n\n              case 37:\n                if (user) {\n                  _context4.next = 39;\n                  break;\n                }\n\n                throw new Error('Could not get user');\n\n              case 39:\n                user.set('accounts', uniq((0, _concat.default)(_context3 = []).call(_context3, accountsLower, (_user$get = user.get('accounts')) !== null && _user$get !== void 0 ? _user$get : [])));\n                user.set('ethAddress', ethAddress);\n                _context4.next = 43;\n                return user.save(null, options);\n\n              case 43:\n                return _context4.abrupt(\"return\", user);\n\n              case 44:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function () {\n        return _authenticate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"link\",\n    value: function () {\n      var _link = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(account, options) {\n        var _context5, _user$get2;\n\n        var web3, data, user, ethAddress, EthAddress, query, ethAddressRecord, signature, authData;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return MoralisWeb3.enable(options);\n\n              case 2:\n                web3 = _context6.sent;\n                data = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context6.next = 6;\n                return _ParseUser.default.current();\n\n              case 6:\n                user = _context6.sent;\n                ethAddress = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context6.next = 12;\n                return query.get(ethAddress).catch(function () {\n                  return null;\n                });\n\n              case 12:\n                ethAddressRecord = _context6.sent;\n\n                if (ethAddressRecord) {\n                  _context6.next = 20;\n                  break;\n                }\n\n                _context6.next = 16;\n                return web3.eth.personal.sign(data, account, '');\n\n              case 16:\n                signature = _context6.sent;\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context6.next = 20;\n                return user.linkWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 20:\n                user.set('accounts', uniq((0, _concat.default)(_context5 = [ethAddress]).call(_context5, (_user$get2 = user.get('accounts')) !== null && _user$get2 !== void 0 ? _user$get2 : [])));\n                user.set('ethAddress', ethAddress);\n                _context6.next = 24;\n                return user.save(null, options);\n\n              case 24:\n                return _context6.abrupt(\"return\", user);\n\n              case 25:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function () {\n        return _link.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"unlink\",\n    value: function () {\n      var _unlink = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(account) {\n        var _user$get3;\n\n        var accountsLower, EthAddress, query, ethAddressRecord, user, accounts, nextAccounts;\n        return _regenerator.default.wrap(function (_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                accountsLower = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context7.next = 5;\n                return query.get(accountsLower);\n\n              case 5:\n                ethAddressRecord = _context7.sent;\n                _context7.next = 8;\n                return ethAddressRecord.destroy();\n\n              case 8:\n                _context7.next = 10;\n                return _ParseUser.default.current();\n\n              case 10:\n                user = _context7.sent;\n                accounts = (_user$get3 = user.get('accounts')) !== null && _user$get3 !== void 0 ? _user$get3 : [];\n                nextAccounts = (0, _filter.default)(accounts).call(accounts, function (v) {\n                  return v !== accountsLower;\n                });\n                user.set('accounts', nextAccounts);\n                user.set('ethAddress', nextAccounts[0]);\n                _context7.next = 17;\n                return user._unlinkFrom('moralisEth');\n\n              case 17:\n                _context7.next = 19;\n                return user.save();\n\n              case 19:\n                return _context7.abrupt(\"return\", user);\n\n              case 20:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function () {\n        return _unlink.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"initPlugins\",\n    value: function () {\n      var _initPlugins = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(installedPlugins) {\n        var _this = this;\n\n        var specs, allPlugins;\n        return _regenerator.default.wrap(function (_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.t0 = installedPlugins;\n\n                if (_context11.t0) {\n                  _context11.next = 5;\n                  break;\n                }\n\n                _context11.next = 4;\n                return (0, _Cloud.run)('getPluginSpecs');\n\n              case 4:\n                _context11.t0 = _context11.sent;\n\n              case 5:\n                specs = _context11.t0;\n                if (!this.Plugins) this.Plugins = {};\n\n                if (specs) {\n                  _context11.next = 9;\n                  break;\n                }\n\n                return _context11.abrupt(\"return\");\n\n              case 9:\n                allPlugins = this.Plugins;\n                (0, _forEach.default)(specs).call(specs, function (plugin) {\n                  var _context8;\n\n                  allPlugins[plugin.name] = {};\n                  (0, _forEach.default)(_context8 = plugin.functions).call(_context8, function (f) {\n                    allPlugins[plugin.name][f] = /*#__PURE__*/function () {\n                      var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(params, options) {\n                        var _context9;\n\n                        var response, error, triggerReturn;\n                        return _regenerator.default.wrap(function (_context10) {\n                          while (1) {\n                            switch (_context10.prev = _context10.next) {\n                              case 0:\n                                if (!options) options = {};\n                                _context10.next = 3;\n                                return (0, _Cloud.run)((0, _concat.default)(_context9 = \"\".concat(plugin.name, \"_\")).call(_context9, f), params);\n\n                              case 3:\n                                response = _context10.sent;\n\n                                if (response.data.success) {\n                                  _context10.next = 7;\n                                  break;\n                                }\n\n                                error = (0, _stringify.default)(response.data.data, null, 2);\n                                throw new Error(\"Something went wrong\\n\".concat(error));\n\n                              case 7:\n                                if (!(options.disableTriggers !== true)) {\n                                  _context10.next = 13;\n                                  break;\n                                }\n\n                                _context10.next = 10;\n                                return _this.handleTriggers(response.data.result.triggers);\n\n                              case 10:\n                                triggerReturn = _context10.sent;\n\n                                if (!triggerReturn) {\n                                  _context10.next = 13;\n                                  break;\n                                }\n\n                                return _context10.abrupt(\"return\", triggerReturn);\n\n                              case 13:\n                                return _context10.abrupt(\"return\", response.data.result);\n\n                              case 14:\n                              case \"end\":\n                                return _context10.stop();\n                            }\n                          }\n                        }, _callee6);\n                      }));\n\n                      return function () {\n                        return _ref.apply(this, arguments);\n                      };\n                    }();\n                  });\n                });\n                this.Plugins = allPlugins;\n\n              case 12:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      return function () {\n        return _initPlugins.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"handleTriggers\",\n    value: function () {\n      var _handleTriggers = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8(_triggersArray) {\n        var _triggersArray$i, _triggersArray$i2, _triggersArray$i2$opt, _triggersArray$i3, _triggersArray$i3$opt, _triggersArray$i4, _triggersArray$i5, _triggersArray$i5$opt, _triggersArray$i6, _triggersArray$i7, _triggersArray$i8, _triggersArray$i9, _triggersArray$i10, _triggersArray$i11, _triggersArray$i12, _triggersArray$i13;\n\n        var i, response;\n        return _regenerator.default.wrap(function (_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (_triggersArray) {\n                  _context12.next = 2;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\");\n\n              case 2:\n                i = 0;\n\n              case 3:\n                if (!(i < _triggersArray.length)) {\n                  _context12.next = 27;\n                  break;\n                }\n\n                response = void 0;\n                _context12.t0 = (_triggersArray$i = _triggersArray[i]) === null || _triggersArray$i === void 0 ? void 0 : _triggersArray$i.name;\n                _context12.next = _context12.t0 === 'openUrl' ? 8 : _context12.t0 === 'web3Transaction' ? 13 : 23;\n                break;\n\n              case 8:\n                if (((_triggersArray$i2 = _triggersArray[i]) === null || _triggersArray$i2 === void 0 ? void 0 : (_triggersArray$i2$opt = _triggersArray$i2.options) === null || _triggersArray$i2$opt === void 0 ? void 0 : _triggersArray$i2$opt.newTab) === true || !((_triggersArray$i3 = _triggersArray[i]) !== null && _triggersArray$i3 !== void 0 && (_triggersArray$i3$opt = _triggersArray$i3.options) !== null && _triggersArray$i3$opt !== void 0 && _triggersArray$i3$opt.hasOwnProperty('newTab'))) response = window.open((_triggersArray$i4 = _triggersArray[i]) === null || _triggersArray$i4 === void 0 ? void 0 : _triggersArray$i4.data);\n                if (((_triggersArray$i5 = _triggersArray[i]) === null || _triggersArray$i5 === void 0 ? void 0 : (_triggersArray$i5$opt = _triggersArray$i5.options) === null || _triggersArray$i5$opt === void 0 ? void 0 : _triggersArray$i5$opt.newTab) === false) response = window.open((_triggersArray$i6 = _triggersArray[i]) === null || _triggersArray$i6 === void 0 ? void 0 : _triggersArray$i6.data, '_self');\n\n                if (!(((_triggersArray$i7 = _triggersArray[i]) === null || _triggersArray$i7 === void 0 ? void 0 : _triggersArray$i7.shouldReturnResponse) === true)) {\n                  _context12.next = 12;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", response);\n\n              case 12:\n                return _context12.abrupt(\"break\", 24);\n\n              case 13:\n                if (this.ensureWeb3IsInstalled()) {\n                  _context12.next = 15;\n                  break;\n                }\n\n                throw new Error(ERROR_WEB3_MISSING);\n\n              case 15:\n                if (!(((_triggersArray$i8 = _triggersArray[i]) === null || _triggersArray$i8 === void 0 ? void 0 : _triggersArray$i8.shouldAwait) === true)) {\n                  _context12.next = 19;\n                  break;\n                }\n\n                _context12.next = 18;\n                return this.web3.eth.sendTransaction((_triggersArray$i9 = _triggersArray[i]) === null || _triggersArray$i9 === void 0 ? void 0 : _triggersArray$i9.data);\n\n              case 18:\n                response = _context12.sent;\n\n              case 19:\n                if (((_triggersArray$i10 = _triggersArray[i]) === null || _triggersArray$i10 === void 0 ? void 0 : _triggersArray$i10.shouldAwait) === false) response = this.web3.eth.sendTransaction((_triggersArray$i11 = _triggersArray[i]) === null || _triggersArray$i11 === void 0 ? void 0 : _triggersArray$i11.data);\n\n                if (!(((_triggersArray$i12 = _triggersArray[i]) === null || _triggersArray$i12 === void 0 ? void 0 : _triggersArray$i12.shouldReturnResponse) === true)) {\n                  _context12.next = 22;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", response);\n\n              case 22:\n                return _context12.abrupt(\"break\", 24);\n\n              case 23:\n                throw new Error(\"Unknown trigger: \\\"\".concat((_triggersArray$i13 = _triggersArray[i]) === null || _triggersArray$i13 === void 0 ? void 0 : _triggersArray$i13.name, \"\\\"\"));\n\n              case 24:\n                i++;\n                _context12.next = 3;\n                break;\n\n              case 27:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      return function () {\n        return _handleTriggers.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getAllERC20\",\n    value: function () {\n      var _getAllERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9() {\n        var _ref2,\n            chain,\n            address,\n            result,\n            _args9 = arguments;\n\n        return _regenerator.default.wrap(function (_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _ref2 = _args9.length > 0 && _args9[0] !== undefined ? _args9[0] : {}, chain = _ref2.chain, address = _ref2.address;\n                _context13.next = 3;\n                return (0, _Cloud.run)('getAllERC20', {\n                  chain: chain,\n                  address: address\n                });\n\n              case 3:\n                result = _context13.sent;\n                return _context13.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      return function () {\n        return _getAllERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getERC20\",\n    value: function () {\n      var _getERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10() {\n        var _ref3,\n            chain,\n            address,\n            symbol,\n            tokenAddress,\n            result,\n            _args10 = arguments;\n\n        return _regenerator.default.wrap(function (_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                _ref3 = _args10.length > 0 && _args10[0] !== undefined ? _args10[0] : {}, chain = _ref3.chain, address = _ref3.address, symbol = _ref3.symbol, tokenAddress = _ref3.tokenAddress;\n                result = (0, _Cloud.run)('getERC20', {\n                  chain: chain,\n                  address: address,\n                  symbol: symbol,\n                  tokenAddress: tokenAddress\n                });\n                return _context14.abrupt(\"return\", result);\n\n              case 3:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      return function () {\n        return _getERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getNFTs\",\n    value: function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$chain = _ref4.chain,\n          chain = _ref4$chain === void 0 ? 'Eth' : _ref4$chain,\n          _ref4$address = _ref4.address,\n          address = _ref4$address === void 0 ? '' : _ref4$address;\n\n      return (0, _Cloud.run)('getNFTs_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getNFTsCount\",\n    value: function () {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$chain = _ref5.chain,\n          chain = _ref5$chain === void 0 ? 'Eth' : _ref5$chain,\n          _ref5$address = _ref5.address,\n          address = _ref5$address === void 0 ? '' : _ref5$address;\n\n      return (0, _Cloud.run)('getNFTsCount_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getTransactions\",\n    value: function () {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$chain = _ref6.chain,\n          chain = _ref6$chain === void 0 ? 'Eth' : _ref6$chain,\n          _ref6$address = _ref6.address,\n          address = _ref6$address === void 0 ? '' : _ref6$address,\n          _ref6$order = _ref6.order,\n          order = _ref6$order === void 0 ? 'desc' : _ref6$order;\n\n      return (0, _Cloud.run)('getTransactions', {\n        chain: chain,\n        address: address,\n        order: order\n      });\n    }\n  }, {\n    key: \"getTransactionsCount\",\n    value: function () {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$chain = _ref7.chain,\n          chain = _ref7$chain === void 0 ? 'Eth' : _ref7$chain,\n          _ref7$address = _ref7.address,\n          address = _ref7$address === void 0 ? '' : _ref7$address;\n\n      return (0, _Cloud.run)('getTransactionsCount', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"transfer\",\n    value: function () {\n      var _transfer = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee11() {\n        var _ref8,\n            _ref8$type,\n            type,\n            _ref8$receiver,\n            receiver,\n            _ref8$contractAddress,\n            contractAddress,\n            contract_address,\n            _ref8$amount,\n            amount,\n            _ref8$tokenId,\n            tokenId,\n            token_id,\n            _ref8$system,\n            system,\n            _ref8$awaitReceipt,\n            awaitReceipt,\n            options,\n            web3,\n            sender,\n            transferOperation,\n            customToken,\n            _args11 = arguments;\n\n        return _regenerator.default.wrap(function (_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _ref8 = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : {}, _ref8$type = _ref8.type, type = _ref8$type === void 0 ? 'native' : _ref8$type, _ref8$receiver = _ref8.receiver, receiver = _ref8$receiver === void 0 ? '' : _ref8$receiver, _ref8$contractAddress = _ref8.contractAddress, contractAddress = _ref8$contractAddress === void 0 ? '' : _ref8$contractAddress, contract_address = _ref8.contract_address, _ref8$amount = _ref8.amount, amount = _ref8$amount === void 0 ? '' : _ref8$amount, _ref8$tokenId = _ref8.tokenId, tokenId = _ref8$tokenId === void 0 ? '' : _ref8$tokenId, token_id = _ref8.token_id, _ref8$system = _ref8.system, system = _ref8$system === void 0 ? 'evm' : _ref8$system, _ref8$awaitReceipt = _ref8.awaitReceipt, awaitReceipt = _ref8$awaitReceipt === void 0 ? true : _ref8$awaitReceipt; // Allow snake-case for backwards compatibility\n                // eslint-disable-next-line camelcase\n\n                contractAddress = contractAddress || contract_address; // eslint-disable-next-line camelcase\n\n                tokenId = tokenId || token_id;\n                options = {\n                  receiver: receiver,\n                  contractAddress: contractAddress,\n                  amount: amount,\n                  tokenId: tokenId,\n                  system: system,\n                  awaitReceipt: awaitReceipt\n                };\n\n                _TransferUtils.default.isSupportedType(type);\n\n                _TransferUtils.default.validateInput(type, options);\n\n                if (this.ensureWeb3IsInstalled()) {\n                  _context15.next = 8;\n                  break;\n                }\n\n                throw new Error(ERROR_WEB3_MISSING);\n\n              case 8:\n                web3 = this.web3;\n                _context15.next = 11;\n                return web3.eth.getAccounts();\n\n              case 11:\n                _context15.next = 13;\n                return _context15.sent[0];\n\n              case 13:\n                sender = _context15.sent;\n\n                if (sender) {\n                  _context15.next = 16;\n                  break;\n                }\n\n                throw new Error('Sender address not found');\n\n              case 16:\n                if (type !== 'native') customToken = new web3.eth.Contract(_TransferUtils.default.abi[type], contractAddress);\n                _context15.t0 = type;\n                _context15.next = _context15.t0 === 'native' ? 20 : _context15.t0 === 'erc20' ? 22 : _context15.t0 === 'erc721' ? 24 : _context15.t0 === 'erc1155' ? 26 : 28;\n                break;\n\n              case 20:\n                transferOperation = web3.eth.sendTransaction({\n                  from: sender,\n                  to: receiver,\n                  value: amount\n                });\n                return _context15.abrupt(\"break\", 29);\n\n              case 22:\n                transferOperation = customToken.methods.transfer(receiver, amount).send({\n                  from: sender\n                });\n                return _context15.abrupt(\"break\", 29);\n\n              case 24:\n                transferOperation = customToken.methods.safeTransferFrom(sender, receiver, tokenId).send({\n                  from: sender\n                });\n                return _context15.abrupt(\"break\", 29);\n\n              case 26:\n                transferOperation = customToken.methods.safeTransferFrom(sender, receiver, tokenId, amount, '0x').send({\n                  from: sender\n                });\n                return _context15.abrupt(\"break\", 29);\n\n              case 28:\n                throw new Error(\"Unknown transfer type: \\\"\".concat(type, \"\\\"\"));\n\n              case 29:\n                if (!awaitReceipt) {\n                  _context15.next = 31;\n                  break;\n                }\n\n                return _context15.abrupt(\"return\", transferOperation);\n\n              case 31:\n                transferOperation.on('transactionHash', function (hash) {\n                  transferEvents.emit('transactionHash', hash);\n                }).on('receipt', function (receipt) {\n                  transferEvents.emit('receipt', receipt);\n                }).on('confirmation', function (confirmationNumber, receipt) {\n                  transferEvents.emit('confirmation', (confirmationNumber, receipt));\n                }).on('error', function (error) {\n                  transferEvents.emit('error', error);\n                  throw error;\n                });\n                return _context15.abrupt(\"return\", transferEvents);\n\n              case 33:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      return function () {\n        return _transfer.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"executeFunction\",\n    value: function () {\n      var _executeFunction = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee12() {\n        var _context16;\n\n        var _ref9,\n            contractAddress,\n            abi,\n            functionName,\n            msgValue,\n            _ref9$params,\n            params,\n            web3,\n            contractOptions,\n            functionData,\n            stateMutability,\n            isReadFunction,\n            currentAddress,\n            errors,\n            _iterator,\n            _step,\n            input,\n            value,\n            parsedInputs,\n            contract,\n            customFunction,\n            response,\n            _args12 = arguments;\n\n        return _regenerator.default.wrap(function (_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                _ref9 = _args12.length > 0 && _args12[0] !== undefined ? _args12[0] : {}, contractAddress = _ref9.contractAddress, abi = _ref9.abi, functionName = _ref9.functionName, msgValue = _ref9.msgValue, _ref9$params = _ref9.params, params = _ref9$params === void 0 ? {} : _ref9$params;\n\n                if (this.ensureWeb3IsInstalled()) {\n                  _context17.next = 3;\n                  break;\n                }\n\n                throw new Error(ERROR_WEB3_MISSING);\n\n              case 3:\n                web3 = this.web3;\n                contractOptions = {};\n                functionData = (0, _find.default)(abi).call(abi, function (x) {\n                  return x.name === functionName;\n                });\n\n                if (functionData) {\n                  _context17.next = 8;\n                  break;\n                }\n\n                throw new Error('Function does not exist in abi');\n\n              case 8:\n                stateMutability = functionData === null || functionData === void 0 ? void 0 : functionData.stateMutability;\n                isReadFunction = stateMutability === 'view' || stateMutability === 'pure';\n\n                if (isReadFunction) {\n                  _context17.next = 20;\n                  break;\n                }\n\n                if (params.from) {\n                  _context17.next = 20;\n                  break;\n                }\n\n                _context17.next = 14;\n                return web3.eth.getAccounts();\n\n              case 14:\n                _context17.next = 16;\n                return _context17.sent[0];\n\n              case 16:\n                currentAddress = _context17.sent;\n\n                if (currentAddress) {\n                  _context17.next = 19;\n                  break;\n                }\n\n                throw new Error('From address is required');\n\n              case 19:\n                contractOptions.from = currentAddress;\n\n              case 20:\n                errors = [];\n                _iterator = _createForOfIteratorHelper(functionData.inputs);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    input = _step.value;\n                    value = params[input.name];\n\n                    if (!(typeof value !== 'undefined' && value)) {\n                      errors.push(\"\".concat(input.name, \" is required\"));\n                    }\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                if (!(errors.length > 0)) {\n                  _context17.next = 25;\n                  break;\n                }\n\n                throw errors;\n\n              case 25:\n                parsedInputs = (0, _map.default)(_context16 = functionData.inputs).call(_context16, function (x) {\n                  return params[x.name];\n                });\n                contract = new web3.eth.Contract(abi, contractAddress, contractOptions);\n                customFunction = contract.methods[functionName];\n\n                if (!isReadFunction) {\n                  _context17.next = 34;\n                  break;\n                }\n\n                _context17.next = 31;\n                return customFunction.apply(void 0, (0, _toConsumableArray2.default)((0, _values.default)(parsedInputs))).call();\n\n              case 31:\n                _context17.t0 = _context17.sent;\n                _context17.next = 37;\n                break;\n\n              case 34:\n                _context17.next = 36;\n                return customFunction.apply(void 0, (0, _toConsumableArray2.default)((0, _values.default)(parsedInputs))).send(msgValue ? {\n                  value: msgValue\n                } : null);\n\n              case 36:\n                _context17.t0 = _context17.sent;\n\n              case 37:\n                response = _context17.t0;\n                return _context17.abrupt(\"return\", response);\n\n              case 39:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      return function () {\n        return _executeFunction.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getSigningData\",\n    value: function () {\n      return \"Moralis Authentication\"; // const data = `Moralis Authentication`;\n      // return data;\n    }\n  }, {\n    key: \"on\",\n    value: function (eventName, cb) {\n      var _window = window,\n          ethereum = _window.ethereum;\n\n      if (!ethereum || !ethereum.on) {\n        // eslint-disable-next-line no-console\n        console.warn(WARNING);\n        return function () {\n          // eslint-disable-next-line no-console\n          console.warn(WARNING);\n        };\n      }\n\n      ethereum.on(eventName, cb);\n      return function () {\n        // eslint-disable-next-line no-console\n        console.warn('UNSUB NOT SUPPORTED');\n      };\n    }\n  }, {\n    key: \"getChainId\",\n    value: function () {\n      var _getChainId = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee13() {\n        return _regenerator.default.wrap(function (_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                if (!this.ensureWeb3IsInstalled()) {\n                  _context18.next = 4;\n                  break;\n                }\n\n                _context18.next = 3;\n                return this.web3.eth.net.getId();\n\n              case 3:\n                return _context18.abrupt(\"return\", _context18.sent);\n\n              case 4:\n                throw new Error(ERROR_WEB3_MISSING);\n\n              case 5:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      return function () {\n        return _getChainId.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"ensureWeb3IsInstalled\",\n    value: function () {\n      return this.web3 ? true : false;\n    }\n  }, {\n    key: \"isMetaMaskInstalled\",\n    value: function () {\n      var _isMetaMaskInstalled = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee14() {\n        return _regenerator.default.wrap(function (_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                _context19.next = 2;\n                return (0, _detectProvider.default)();\n\n              case 2:\n                if (!_context19.sent) {\n                  _context19.next = 6;\n                  break;\n                }\n\n                _context19.t0 = true;\n                _context19.next = 7;\n                break;\n\n              case 6:\n                _context19.t0 = false;\n\n              case 7:\n                return _context19.abrupt(\"return\", _context19.t0);\n\n              case 8:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee14);\n      }));\n\n      return function () {\n        return _isMetaMaskInstalled.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"switchNetwork\",\n    value: function () {\n      var _switchNetwork = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee15(chainId) {\n        var currentNetwork;\n        return _regenerator.default.wrap(function (_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                chainId = verifyChainId(chainId); // Check if the user wallet is already on `chainId`\n\n                _context20.t0 = fromDecimalToHex;\n                _context20.next = 4;\n                return this.getChainId();\n\n              case 4:\n                _context20.t1 = _context20.sent;\n                currentNetwork = (0, _context20.t0)(_context20.t1);\n\n                if (!(currentNetwork === chainId)) {\n                  _context20.next = 8;\n                  break;\n                }\n\n                return _context20.abrupt(\"return\");\n\n              case 8:\n                _context20.next = 10;\n                return window.ethereum.request({\n                  method: 'wallet_switchEthereumChain',\n                  params: [{\n                    chainId: chainId\n                  }]\n                });\n\n              case 10:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      return function () {\n        return _switchNetwork.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"addNetwork\",\n    value: function () {\n      var _addNetwork = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee16(chainId, chainName, currencyName, currencySymbol, rpcUrl, blockExplorerUrl) {\n        return _regenerator.default.wrap(function (_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                chainId = verifyChainId(chainId);\n                _context21.next = 3;\n                return window.ethereum.request({\n                  method: 'wallet_addEthereumChain',\n                  params: [{\n                    chainId: chainId,\n                    chainName: chainName,\n                    nativeCurrency: {\n                      name: currencyName,\n                      symbol: currencySymbol,\n                      decimals: 18\n                    },\n                    rpcUrls: [rpcUrl],\n                    blockExplorerUrls: [blockExplorerUrl]\n                  }]\n                });\n\n              case 3:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee16);\n      }));\n\n      return function () {\n        return _addNetwork.apply(this, arguments);\n      };\n    }()\n  }]);\n  return MoralisWeb3;\n}();\n\nfunction fromDecimalToHex(number) {\n  if (typeof number !== 'number') throw 'The input provided should be a number';\n  return \"0x\".concat(number.toString(16));\n}\n\nfunction verifyChainId(chainId) {\n  // Check if chainId is a number, in that case convert to hex\n  if (typeof chainId === 'number') chainId = fromDecimalToHex(chainId);\n  return chainId;\n}\n\nMoralisWeb3.onConnect = (0, _bind.default)(_context22 = MoralisWeb3.on).call(_context22, MoralisWeb3, EthereumEvents.CONNECT);\nMoralisWeb3.onDisconnect = (0, _bind.default)(_context23 = MoralisWeb3.on).call(_context23, MoralisWeb3, EthereumEvents.DISCONNECT);\nMoralisWeb3.onChainChanged = (0, _bind.default)(_context24 = MoralisWeb3.on).call(_context24, MoralisWeb3, EthereumEvents.CHAIN_CHANGED);\nMoralisWeb3.onAccountsChanged = (0, _bind.default)(_context25 = MoralisWeb3.on).call(_context25, MoralisWeb3, EthereumEvents.ACCOUNTS_CHANGED);\nvar _default = MoralisWeb3;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}